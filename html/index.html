<!DOCTYPE HTML>
<html>
<head>
<meta name="viewport" content="width=device-width, inital-scale=1.0, maximum-scale=1.0" />
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>eartH2Observe Visualisation Portal</title>

<!-- ============================ Now for the styling ============================ -->

<!-- Default styling for web app plus overrides of OpenLayers and jQuery UI styles -->
<link rel="stylesheet" type="text/css" href="css/GISPortal.css" />

<!-- ============================ JavaScript libraries ============================ -->
<!-- Latest jQuery from jQuery.com -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<!-- jQuery UI -->
<script src="https://code.jquery.com/ui/1.10.4/jquery-ui.min.js"></script> 

<!-- jQuery no UI slider -->
<script src="js-libs/jquery-nouislider/jquery.nouislider.min.js"></script>

<!-- Lodash (_) -->
<script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>

<!-- OpenLayers Map Code-->
<script type="text/javascript" src="js-libs/OpenLayers/OpenLayers.js"></script>

<!-- D3 -->
<script src="js-libs/d3.v3.4.8.js"></script>

<!-- mustache -->
<script type="text/javascript" src="js-libs/mustache/jquery.mustache.js"></script>


<!-- Fuse -->
<script type="text/javascript" src="js-libs/fuse/fuse.js"></script>

<!-- Custom JavaScript -->
<script type="text/javascript" src="GISPortal.js"></script>

</head>
<body role="application">
   
   <!-- The start page,
         this should load before anything else. -->
    <div class="start-background" style="display:none;">
      <div class="start-container">

        <ul class="start-slider">
          <li class="active">The eartH2Observe portal takes data that you select and plots it on a map to help you analyse, export and share it.</li>
          <li>Browse or search indicators from several reliable sources.</li>
          <li>Analyse the data you've selected and create charts and graphs to better understand it.</li>
          <li>Export any raw or processed data for use in third-party applications</li>
        </ul>

        <nav class="start-nav">
           <button class="brand with-border js-start">Start building a map</button>
        </nav>
      </div>
    </div>

   <!-- JavaScript check -->
   <noscript>
      <div id="noscript-warning">
         This website requires JavaScript to work. Please enable it in your browser.
      </div>
   </noscript>

   <!-- The Map -->
   <div id="map" class=""></div>

   <!-- The Timeline -->
   <div class="timeline-container">
      <div class="timeline-inner grid">
         <ul class="js-timeline-labels timeline-labels grid-cell"></ul>
         <div id="timeline" class="grid-cell fill"></div>
         <div class="js-current-date"></div>
         <a href="/" class="grid-cell">About</a>
      </div>
   </div>

   <button class="js-show-tools show-tools hidden"><span class="icon_show"></span>Show tools</button>
   
   <!-- Configure Your Map panel  -->
   <div id="configurePanel" class="panel active">
      <div class="panel-header">
         <h2>Choose your indicators</h2>
         <button class="icon_hide icon-svg light js-hide-panel">Hide</button>
         <button class="icon_collaboration icon-svg light js-collaboration-toggle">Collaboration</button>
         <button class="icon_map_tools icon-svg light js-map-tools">Map Tools</button>
      </div>
      <div class="panel-container">
         <div class="build-map">
            <ul class="js-configure-indicators"></ul>
         </div>
         
         <!-- These are on the same line to avoid white-space bug with inline-block -->
        <label class="panel-tab-name active" for="tab-browse">Browse</label><label class="panel-tab-name" for="tab-search">Search</label>
        <ul class="panel-tabs">
          <li>
            <input type="radio" checked id="tab-browse" name="tabs-configure" class="js-tab-trigger panel-tab-trigger">
            <div class="panel-tab">
               <div class="panel-tab-content">
                  <h3>Popular indicators</h3>
                  <ul class="js-popular panel-list grid-list"></ul>
               </div>
              <!-- These are on the same line to avoid white-space bug with inline-block -->
              <label class="panel-tab-name browse-tabs active dark" for="tab-browse-1">1</label><label class="panel-tab-name browse-tabs dark" for="tab-browse-2">2</label><label class="panel-tab-name browse-tabs dark" for="tab-browse-3">3</label>
              <ul class="panel-tabs dark">
                <li>
                  <input type="radio" checked id="tab-browse-1" name="tabs-browse" class="js-tab-trigger panel-tab-trigger">
                  <div class="panel-tab panel-tab-content indicator-select"></div>
                </li>
                <li>
                  <input type="radio" id="tab-browse-2" name="tabs-browse" class="js-tab-trigger panel-tab-trigger">
                  <div class="panel-tab panel-tab-content indicator-select"></div>
                </li>
                <li>
                  <input type="radio" id="tab-browse-3" name="tabs-browse" class="js-tab-trigger panel-tab-trigger">
                  <div class="panel-tab panel-tab-content indicator-select"></div>
                </li>
              </ul>
            </div>
          </li>
          <li>
            <input type="radio" id="tab-search" name="tabs-configure" class="js-tab-trigger panel-tab-trigger">
            <div class="panel-tab full-height">
              <input type="search" placeholder="Search for an indicator" class="js-search search">
              <ul class="js-search-results search-results panel-tab-content panel-list grid-list"></ul>
            </div>
          </li>
        </ul>
      </div>

      <div class="panel-footer">
         <button class="brand with-border js-build hidden">Next</button>
      </div>
    </div>

    <div id="indicatorsPanel" class="panel hidden">
      <div class="panel-header">
         <h2>Map Tools</h2>
         <button class="icon_hide icon-svg light js-hide-panel">Hide</button>
         <button class="icon_collaboration icon-svg light js-collaboration-toggle">Collaboration</button>
         <button class="icon_map_tools icon-svg light js-map-tools">Map Tools</button>
      </div>
      <div class="panel-container">
        <ul class="js-indicators indicator-list grid-list">
        </ul>
        <label class="hidden" for="share-map">Share this map with colleagues</label>
        <button id="share-map" class="js-share hidden secondary"><span class="icon_share light"></span>Share</button>
      </div>
      <div class="panel-footer">
         <button class="brand with-border js-start-again">Add Indicators</button>
      </div>
    </div>   
  
   <!-- The share box. -->
    <div class="share overlay hidden">
      <div class="share-container overlay-container">
         <button class="js-close-share">Close</button>
         <div class="js-logged-in hidden">
            <h2>Share this map</h2>
            <p>Here's a link to this map. Just copy and paste anywhere</p>
            <input class="js-shareurl">
         </div>
         <div class="js-logged-out"></div>
      </div>
    </div>

    <div id="graphPanel" class="panel hidden">
      <div class="panel-header">
        <button class="js-return-analysis">Return to Analysis</button>
      </div>
      <div class="panel-container">
         <div class="graph-wait-message">
            <h3>Processing</h3>
            <div class="icon_loading grid-cell icon-column">loading</div>
            <p>Your chart is processing, keep this browser window open</p>
            <p>If you are signed in, you can add charts to a queue and we'll notifty you when they're processed</p>
          </div>

         <div class="graph-holder"></div>
        <!--<label for="share-map">Share this graph with colleagues</label>
        <button id="share-map" class="js-share">Share</button> -->
      </div>
    </div> 

    <div id="collaborationPanel" class="panel hidden">
      <div class="panel-header">
        <h2>Collaboration</h2>
        <button class="icon_hide icon-svg light js-hide-panel">Hide</button>
        <button class="icon_collaboration icon-svg light js-collaboration-toggle active">Collaboration</button>
        <button class="icon_map_tools icon-svg light js-map-tools">Map Tools</button>
      </div>
      <div class="panel-container">
        <div class="panel-content-collaboration">
          <button class="icon_close icon-svg dark js-hide-collaboration">Close Collaboration</button>
          <h3>Collaboration</h3>
          <p>To find out more about sharing a session please have a look at the <a href="sharing" class="">collaboration help page</a></p>
          
          <div id="gSignInWrapper">
            <div id="gSignInButtonHolder">
              <a href="javascript:void(0)" class="js-google-auth-button"><img src="img/sign-in-with-google.png" width="200" /></a>
            </div>
          </div>

          <div class="js-collaboration-holder">
            <button class="brand start-collaboration js-start-collaboration" />Start Collaboration Session</button>
            <div class="js-collaboration-console hidden">
              <button id="btn-presenter">Presenter</button>
              <button id="btn-member">Member</button>
              <div class="js-collaboration-status-msg">Connecting to collaboration server...</div>
              <div class="js-collaboration-history"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="mapToolsPanel" class="panel hidden">
      <div class="panel-header">
        <h2>Map Tools</h2>
        <button class="icon_hide icon-svg light js-hide-panel">Hide</button>
        <button class="icon_collaboration icon-svg light js-collaboration-toggle">Collaboration</button>
        <button class="icon_map_tools icon-svg light js-map-tools active">Map Tools</button>
      </div>
      <div class="panel-container">
        <div class="panel-content-map-tools">
          <button class="icon_close icon-svg dark js-hide-map-tools">Close Map Tools</button>
          <h3>Display Options</h3>
          <ul class="js-map-options"></ul>
        </div>

      </div>
    </div>

    <!-- Map controls -->
    <div class="map_controls">
      <!--<button class="icon_region icon-svg dark separator js-quick-region">Select Region</button>
      <button class="icon_pan icon-svg dark separator js-pan-map">Pan</button>-->
      <button class="icon_zoomin icon-svg dark separator js-zoomin" id="mapZoomIn">Zoom In</button>
      <button class="icon_zoomout icon-svg dark js-zoomout" id="mapZoomOut">Zoom Out</button>
    </div>
    <div class="map_quick_regions hidden">
      <ul class="panel-list grid-list">
        <li>
          <p class="grid-cell fill"><label for="map-view-world_view">World View</label>
          <input type="radio" name="quick_region" id="map-view-world_view" data-name="World View" class="js-quick-region" /></p>
        </li>
        <li class="">
          <p class="grid-cell fill"><label for="map-view-north_sea">North Sea</label>
          <input type="radio" name="quick_region" id="map-view-north_sea" data-name="North Sea" class="js-quick-region" /></p>
        </li>
        <li>
          <p class="grid-cell fill"><label for="map-view-english_channel">English Channel</label>
          <input type="radio" name="quick_region" id="map-view-english_channel" data-name="English Channel" class="js-quick-region" /></p>
        </li>

      </ul>
    </div>

</body>
</html>
